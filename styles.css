/* Definición de variables CSS */
:root{
  --azul-oscuro: #0762a4;
  --azul-claro:  #89ccec;
  --texto: #ffffff;
  --hover: rgba(255,255,255,.18);
  --ancho-max: 1200px;
  --alto-header: 72px;
}

/* Base */
*{ box-sizing: border-box; }
html, body{ margin:0; padding:0; }
body{
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: #0b2540;
  background: #f7fbff;
}

.container{
  max-width: var(--ancho-max);
  margin: 0 auto;
  padding: 24px 16px;
}

/* ===== Header (degradado + sombra) ===== */
.site-header{
  position: sticky; top:0; z-index: 1000;
  height: var(--alto-header);
  color: var(--texto);
  background: linear-gradient(90deg, var(--azul-oscuro), var(--azul-claro));
  box-shadow: 0 2px 10px rgba(0,0,0,.15);
}

/* Contenedor interno del header */
.header-inner{
  height: 100%;
  margin: 0 auto;
  max-width: var(--ancho-max);
  padding: 0 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

/* Logo */
.brand{
  display: inline-flex; align-items: center; gap: 10px;
  user-select: none;
  text-decoration: none;
}
.logo{
  width: 50px; height: 50px; object-fit: contain;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,.25));
}
.brand .name{
  font-weight: 700; letter-spacing: .4px; font-size: 1.25rem; color: #fff;
}

/* ===== Navegación ===== */
.main-nav{
  list-style: none; display: flex; gap: 8px; margin: 0; padding: 0;
}
.nav-link{
  display: inline-flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 4px; padding: 10px 14px; min-width: 90px; text-decoration: none;
  color: var(--texto); border-radius: 10px; font-weight: 600; font-size: .95rem;
  transition: background .2s ease, transform .15s ease;
}
.nav-link:hover{ background: var(--hover); transform: translateY(-1px); }
.nav-link svg{ width: 20px; height: 20px; fill: currentColor; opacity: .95; }

/* Activo */
.nav-link.is-active,
.nav-link[aria-current="page"]{
  outline: 2px solid rgba(255,255,255,.35);
  outline-offset: 2px;
}


/* ===== Responsive header ===== */
@media (max-width: 768px){
  .nav-link{ min-width: 80px; font-size: .85rem; padding: 8px 10px; }
  .brand .name{ font-size: 1.1rem; }
}  /* ← cierre del media */

/* -------------------------------------------------------------------------------------------------------------
   Primera sección : Bienvenida
--------------------------------------------------------------------------------------------------------------*/
/* Fondo blanco para la sección */
.intent-section{ background:#fff; }

/* Se centra el contenido y se agrega espacio alrededor con el padding */
.intent-wrap{ max-width: var(--ancho-max); margin:0 auto; padding: 40px 16px; }

/* Se crean dos columnas */
.intent-cols{
  display:grid;
  grid-template-columns: minmax(280px, 1fr) minmax(280px, 1fr);
  gap: 32px;
  align-items:center;
}

/* Formato del título secundario  */
.intent-kicker{
  margin: 0 0 6px;
  font-weight: 600;
  font-size: 1.05rem;
  color: #2b3a4a;
}

/* Formato del título principal*/
.intent-title{
  line-height: 1.05;
  margin: 0 0 14px;
  font-size: clamp(2.2rem, 5vw, 4rem);
  font-weight: 800;
  letter-spacing: .2px;
}
.intent-title .line{
  display:block;
  color: var(--azul-oscuro); 
}
@supports (-webkit-background-clip:text) or (background-clip:text) {
  .intent-title .line{
    background: linear-gradient(90deg, var(--azul-oscuro), var(--azul-claro));
    -webkit-background-clip:text; background-clip:text;
    color: transparent; -webkit-text-fill-color: transparent;
  }
}

/* Formato del párrafo de descripción*/
.intent-desc{
  margin: 0;
  max-width: 58ch;
  color: #334155;
  line-height: 1.65;
  font-size: 1rem;
}

/* ===== Formato de la imagen ===== */
.intent-fig{ margin:0; }

/* Caja proporcional 4:3 */
.intent-fig .ph-box{
  position: relative;
  width: 100%;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(7, 98, 164, .12);
}
.intent-fig .ph-box::before{
  content: "";
  display: block;
  padding-top: 75%; 
}

.intent-fig .ph-box > img{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;      
  object-fit: cover;  
  object-position: 50% 80%; 
  z-index: 1;          
}

.intent-fig .ph-art{
  position: absolute;
  inset: 0;
  background: #eaf4ff;
  border: 3px dashed #c3dcf7;
  display: grid;
  place-items: center;
  z-index: 0;          
}
.ph-mountain{
  position:absolute; right:10%; bottom:20%; width:45%; height:35%;
  background:#cfe6ff;
  clip-path: polygon(0% 100%, 60% 35%, 100% 80%, 100% 100%, 0% 100%);
  opacity:.9;
}
.ph-sun{
  position:absolute; left:12%; top:18%;
  width:14%; height:14%; border-radius:50%; background:#cfe6ff;
}
.ph-label{
  font: 600 1.2rem/1 "Poppins", sans-serif; color:#7aaedf; opacity:.9;
}

@supports selector(:has(*)){
  .intent-fig .ph-box:has(> img) .ph-art{ display: none; }
}

@supports not (display:grid){
  .intent-cols{ display:flex; flex-wrap:wrap; gap:32px; }
  .intent-text, .intent-fig{ flex:1 1 320px; }
}

@media (max-width: 700px){
  .intent-cols{ grid-template-columns: 1fr; gap:20px; }
}

/* -------------------------------------------------------------------------------------------------------------
   Segunda sección : Aprendizajes esperados
--------------------------------------------------------------------------------------------------------------*/
/* ===== Sección: Lo que aprenderás (Carrusel) ===== */
.learn-section{ background:#fff; }
.learn-wrap{ max-width: var(--ancho-max); margin:0 auto; padding: 28px 16px 44px; }
.learn-heading{
  margin: 0 0 14px;
  font-weight: 800;
  font-size: clamp(1.6rem, 2.2vw, 2.2rem);
  color:#0b2540;
}

.lc-viewport{
  position: relative;
  overflow: hidden;         
  border-radius: 14px;
  background: #f0f7ff;      
}
.lc-track{
  display: flex;
  overflow-x: auto;                 
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;    
  scroll-behavior: smooth;          
  scrollbar-width: none;            
}
.lc-track::-webkit-scrollbar{ display:none; } 


.lc-slide{
  flex: 0 0 100%;
  scroll-snap-align: center;
  box-sizing: border-box; 
}

.lc-card{
  margin: 0 auto;
  width: calc(100% - 24px);   
  background:#fff;
  border-radius:12px;
  overflow:hidden;
  box-shadow: 0 6px 18px rgba(7,98,164,.10);
  display: grid;
  grid-template-rows: auto 1fr;
}

/* Media y caption compactos para reducir altura total */
.lc-media{ aspect-ratio: 16 / 7; background:#eaf4ff; }
.lc-media img{ width:100%; height:100%; object-fit:cover; display:block; }
.lc-caption{ padding:12px 14px 14px; }
.lc-caption h3{ margin:0 0 6px; font-size:1.08rem; color:#0b2540; }
.lc-caption p{ margin:0; color:#334155; line-height:1.55; }

/* Controles flotantes */
.lc-prev, .lc-next{
  position:absolute; top:50%; transform: translateY(-50%);
  width:40px; height:40px; border:none; border-radius:999px;
  display:grid; place-items:center; cursor:pointer;
  background: rgba(7,98,164,.12);
  transition: background .2s ease, transform .15s ease;
}
.lc-prev:hover, .lc-next:hover{ background: rgba(7,98,164,.22); }
.lc-prev:active, .lc-next:active{ transform: translateY(-50%) scale(.97); }
.lc-prev svg, .lc-next svg{ width:22px; height:22px; fill:#0b2540; opacity:.9; }
.lc-prev{ left:8px; }
.lc-next{ right:8px; }

/* Dots */
.lc-dots{
  position:absolute; left:50%; bottom:8px; transform:translateX(-50%);
  display:flex; gap:8px; padding:6px 10px; border-radius:999px;
  background: rgba(255,255,255,.75); backdrop-filter: blur(6px);
}
.lc-dots button{
  width:8px; height:8px; border-radius:999px; border:none; cursor:pointer;
  background:#9ec9eb; transition: transform .2s ease, background .2s ease;
}
.lc-dots button[aria-selected="true"]{
  background:#0762a4; transform: scale(1.35);
}

@media (max-width: 700px){
  .lc-card{ width: calc(100% - 16px); }
  .lc-prev, .lc-next{ width:36px; height:36px; }
}

/* Fondo azul claro para toda la sección */
.learn-section{ background: var(--azul-claro); }       

.lc-viewport{ background: transparent; }

/* ===== Separador en forma de ola ===== */
.wave-divider{
  line-height: 0; 
  overflow: hidden;
}

.wave-divider svg{
  display:block;
  width:100%;
  height:100px;
}

.wave-divider path{
  fill: var(--azul-claro);   
                 
}

/* ===== Última sección: Mar profundo ===== */

.cta-section{
  position: relative;
  background: var(--azul-oscuro);
  color: #fff;
  text-align: center;
  padding: 60px 20px;
}

.wave-top{
  position: absolute;
  top: -1px;             
  left: 0; right: 0;
  line-height: 0;         
  overflow: hidden;
  z-index: 1;
}
.wave-top svg{
  display: block;
  width: 100%;
  height: 100px;
}
.wave-top path{
  fill: var(--azul-claro); 
  opacity: .9;             
}


.cta-inner{ max-width: 800px; margin: 0 auto; position: relative; z-index: 2; }
.cta-title{ font-size: clamp(1.8rem, 4vw, 2.5rem); margin-bottom: 24px; font-weight: 700; }
.cta-btn{
  display: inline-block; padding: 14px 28px; font-size: 1.1rem; font-weight: 600;
  color: var(--azul-oscuro); background: #fff; border-radius: 12px; text-decoration: none;
  transition: all .25s ease;
}
.cta-btn:hover{ background: var(--azul-claro); color:#fff; transform: translateY(-2px); }


.learn-section{
  background: var(--azul-claro);
}

.wave-between{
  line-height: 0;
  overflow: hidden;
  height: 100px;                 
  margin-top: -1px;              
}
.wave-between svg{
  display: block;
  width: 100%;
  height: 100%;
}
.wave-between path{
  fill: var(--azul-oscuro);      
  opacity: 1;                  
}

.cta-section{
  background: var(--azul-oscuro);
  color: #fff;
  text-align: center;
  padding: 56px 20px 64px;       
}

/* ===== Página: Explorar ===== */
.explorar-hero{
  background: #fff;
  padding: 40px 0 12px;
}
.explorar-title{
  margin: 0 0 6px;
  font-weight: 800;
  font-size: clamp(1.8rem, 4vw, 2.4rem);
  color: var(--azul-oscuro);
}
.explorar-sub{
  margin: 0;
  color: #334155;
  line-height: 1.6;
}

/* Filtros */
.explorar-filtros{
  background: var(--azul-claro);
  padding: 14px 0;
  border-top: 1px solid rgba(0,0,0,.05);
  border-bottom: 1px solid rgba(0,0,0,.05);
}
.explorar-filtros__wrap{
  display: grid;
  grid-template-columns: 1fr 220px auto;
  gap: 12px;
}
.explorar-buscar,
.explorar-select{
  height: 42px;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,.08);
  padding: 0 12px;
  font: inherit;
}
.explorar-btn{
  height: 42px;
  border: none;
  border-radius: 10px;
  padding: 0 18px;
  font-weight: 600;
  background: #fff;
  color: var(--azul-oscuro);
  cursor: pointer;
  transition: transform .15s ease, background .2s ease, color .2s ease;
}
.explorar-btn:hover{ background: var(--azul-oscuro); color:#fff; transform: translateY(-1px); }

@media (max-width: 720px){
  .explorar-filtros__wrap{
    grid-template-columns: 1fr;
  }
}

.explorar-grid{
  background: #fff;
  padding: 28px 0 40px;
}
.explorar-grid__wrap{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 18px;
}

/* Card */
.x-card{
  background: #fff;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(7,98,164,.10);
  display: grid;
  grid-template-rows: auto 1fr;
}
.x-card__img{
  width: 100%; height: 180px; object-fit: cover; display: block;
}
.x-card__body{
  padding: 14px;
  display: grid;
  gap: 8px;
}
.x-card__title{
  margin: 0;
  font-size: 1.08rem;
  color: #0b2540;
}
.x-card__desc{
  margin: 0;
  color: #334155;
  line-height: 1.55;
}
.x-card__link{
  justify-self: start;
  display: inline-block;
  padding: 10px 14px;
  border-radius: 10px;
  text-decoration: none;
  font-weight: 600;
  background: var(--azul-claro);
  color: #0b2540;
  transition: transform .15s ease, opacity .2s ease;
}
.x-card__link:hover{ opacity: .9; transform: translateY(-1px); }

/* -------------------------------------------------------------------------------------------------------------
  Tercera sección : Explorar
--------------------------------------------------------------------------------------------------------------*/

.sr-only{
  position:absolute !important; width:1px; height:1px;
  padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}

.explorar-mapa{
  background:#fff;
  padding: 24px 0 48px;
}

.map-wrap{
  max-width: var(--ancho-max);
  margin: 0 auto;
}

.map-canvas{
  position: relative;
  height: 560px;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(7,98,164,.12);
  background: url("Recursos/Explorar/Fondo_mar.png") center / cover no-repeat;
  outline: 1px solid rgba(0,0,0,.05);
}

.map-canvas::before{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.06));
  pointer-events:none;
}

/* -------------------------------------------------------------------------------------------------------------
  Cuarta sección : Mapa
--------------------------------------------------------------------------------------------------------------*/

/* ===== Islas en el mapa ===== */
.isla{
  position: absolute;
  width: 140px;           
  aspect-ratio: 1 / 1;     
  display: block;
  text-decoration: none;
}

.isla img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 8px 14px rgba(7,98,164,.22));
  transition: transform .15s ease, filter .2s ease;
}

/* Hover suave (desktop) */
.isla:hover img{
  transform: scale(1.04);
  filter: drop-shadow(0 10px 18px rgba(7,98,164,.28));
}

/* Etiqueta bajo la isla */
.isla-label{
  position: absolute;
  left: 50%; top: 100%;
  transform: translateX(-50%);
  margin-top: 6px;
  padding: 6px 10px;
  font: 600 .95rem/1 "Poppins", system-ui, sans-serif;
  color: #0b2540;
  background: rgba(255,255,255,.9);
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(7,98,164,.10);
  white-space: nowrap;
}

/* ===== Posiciones  ===== */
.isla-1{ top: 8%;  left: 6%; }    
.isla-2{ top: 22%; left: 28%; }   
.isla-3{ top: 15%; left: 55%; }
.isla-4{ top: 35%; left: 80%; }
.isla-5{ top: 65%; left: 55%; }
.isla-6{ top: 65%; left: 25%; }


*[data-brackets-id]::before,
*[data-brackets-id]::after{
  content: none !important;
}

/* -------------------------------------------------------------------------------------------------------------
  Quinta sección : Tooltip
--------------------------------------------------------------------------------------------------------------*/

/* Tooltip de islas */
.isla{
  z-index: 1; 
}
.isla:hover{
  z-index: 2; 
}

.isla-tip{
  position: absolute;
  left: 50%;
  bottom: calc(100% + 12px);      
  transform: translate(-50%, 6px);

  /* Tamaño compacto */
  width: 180px;                   
  max-width: none;                
  box-sizing: border-box;
  padding: 10px 12px;

  /* Texto legible y centrado */
  text-align: center;
  font: 500 .85rem/1.4 "Poppins", system-ui, sans-serif; 
  white-space: normal;             
  word-break: normal;              
  overflow-wrap: break-word;       

  /* Estilo visual */
  background: #fff;
  color: #0b2540;
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 12px;
  box-shadow: 0 10px 20px rgba(7,98,164,.15);

  /* Aparición suave en hover */
  opacity: 0;
  pointer-events: none;            
  transition: opacity .18s ease, transform .18s ease;
}

/* Título breve dentro del tooltip */
.isla-tip > strong{
  display:block;
  font-weight: 700;
  margin-bottom: 4px;
  color: #0b2540;
}

/* Flecha hacia abajo (globo de diálogo) */
.isla-tip::after{
  content:"";
  position: absolute;
  left: 50%;
  top: 100%;
  transform: translateX(-50%);
  width: 0; height: 0;
  border: 8px solid transparent;   
  border-top-color: #fff;          
  filter: drop-shadow(0 -1px 1px rgba(7,98,164,.10)); 
}

/* Mostrar con efecto suave en hover */
.isla:hover .isla-tip{
  opacity: 1;
  transform: translate(-50%, 0);   
}

/* Tooltip invertido solo para la Isla 1 (por estar muy cerca del borde superior) */
.isla-1 .isla-tip{
  top: calc(100% + 12px);   
  bottom: auto;             
}
.isla-1 .isla-tip::after{
  top: auto;
  bottom: 100%;             
  border: 8px solid transparent;
  border-bottom-color: #fff;
  transform: translateX(-50%);
}

/* Tooltip invertido solo para la Isla 2 (por estar muy cerca del borde superior) */
.isla-2 .isla-tip{
  top: calc(100% + 12px);   
  bottom: auto;             
}
.isla-2 .isla-tip::after{
  top: auto;
  bottom: 100%;             
  border: 8px solid transparent;
  border-bottom-color: #fff;
  transform: translateX(-50%);
}

/* Tooltip invertido solo para la Isla 2 (por estar muy cerca del borde superior) */
.isla-3 .isla-tip{
  top: calc(100% + 12px);   
  bottom: auto;             
}
.isla-3 .isla-tip::after{
  top: auto;
  bottom: 100%;             
  border: 8px solid transparent;
  border-bottom-color: #fff;
  transform: translateX(-50%);
}

/* -------------------------------------------------------------------------------------------------------------
  Sexta sección : Subpáginas de islas
--------------------------------------------------------------------------------------------------------------*/

/* ======== Sección inicial de isla ======== */

.topic-hero{
  background: linear-gradient(180deg, #fff 0%, #f7fbff 100%);
}
.topic-hero__wrap{
  max-width: var(--ancho-max);
  margin: 0 auto;
  padding: 28px 16px 36px;
}

/* Botón “Regresar al puerto”  */
.topic-hero__back{ margin: 8px 0 18px; }

/* Botones */
.btn{
  display: inline-block;
  padding: 10px 14px;
  border-radius: 999px;
  text-decoration: none;
  font-weight: 700;
  font-size: .98rem;
  border: 0;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
}
.btn--primary{
  color: #fff;
  background: var(--azul-oscuro);
}
.btn--primary:hover{ filter: brightness(.95); }
.btn--ghost{
  color: var(--azul-oscuro);
  background: rgba(255,255,255,.9);
  outline: 1px solid rgba(0,0,0,.06);
}

/* Grid de dos columnas */
.topic-hero__grid{
  display: grid;
  grid-template-columns: 1.15fr .85fr;
  gap: 28px;
  align-items: center;
}

/* Texto */
.topic-hero__tag{
  display: inline-block;
  font-weight: 700;
  font-size: .8rem;
  color: #094b7d;
  background: #e6f2fb;
  padding: 6px 10px;
  border-radius: 999px;
  margin: 4px 0 10px;
}
.topic-hero__title{
  margin: 0 0 6px;
  font-weight: 800;
  font-size: clamp(2rem, 3.2vw, 2.6rem);
  color: #0b2540;
  line-height: 1.12;
}
.topic-hero__desc{
  margin: 10px 0 16px;
  color: #203548;
  max-width: 62ch;      
}
.topic-hero__desc p{
  margin: 0 0 10px;
  line-height: 1.65;   
}

.topic-hero__bullets{
  margin: 10px 0 6px 1.1rem;
  color: #0b2540;
}
.topic-hero__bullets li{ margin: 6px 0; }

.topic-hero__meta{
  margin-top: 8px;
  font-size: .9rem;
  color: #4a6075;
}

/* Imagen vertical con esquinas redondeadas */
.topic-hero__media{
  background: #f0f7ff;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
}
.topic-hero__media img{
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 3 / 4; 
  object-fit: cover;
}

/* Pie con botón de regreso */
.topic-end{
  border-top: 1px dashed #e2ebf5;
  background: #fbfdff;
}
.topic-end .container{
  padding-top: 24px;
  padding-bottom: 36px;
  display: flex;
  justify-content: center;
}

.sr-only{
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}

/* ===== Cuadro de aprendizajes esperados ===== */
.topic-hero__learnbox{
  margin: 20px 0;
  padding: 18px 22px;
  border-radius: 14px;
  background: var(--azul-claro);
  color: #0b2540;
  box-shadow: 0 6px 16px rgba(7,98,164,.15);
}

.topic-hero__learnbox-title{
  margin: 0 0 10px;
  font-size: 1.1rem;
  font-weight: 700;
  color: var(#0000);
}

.topic-hero__learnbox .topic-hero__bullets{
  margin: 0;
  padding-left: 1.2rem;
}

/* ===== Separador ===== */
.section-divider-gradient{
  border: 0;
  height: 3px;
  margin: 40px auto;   
  background: linear-gradient(
    90deg,
    var(--azul-oscuro),
    var(--azul-claro)
  );
  border-radius: 2px;

  max-width: 1200px;    
  width: 80%;          
}

/* ===== Bloque de concepto clave ===== */
.concept-block{
  background: #fff;
  border-left: 6px solid var(--azul-oscuro);
  padding: 20px;
  margin: 40px auto;
  border-radius: 10px;
  box-shadow: 0 6px 14px rgba(7,98,164,.12);
  max-width: 800px;
}
.concept-block h2{
  margin: 0 0 12px;
  font-size: 1.4rem;
  color: var(--azul-oscuro);
}
.formula{
  font-family: "Cambria Math", serif;
  font-size: 1.3rem;
  text-align: center;
  margin-top: 12px;
  color: #0b2540;
}

/* ===== Bloque con ejemplos ===== */
.examples-block{ margin: 60px auto; max-width: var(--ancho-max); }
.examples-block h2{ margin-bottom: 20px; text-align: center; color: var(--azul-oscuro); }
.examples-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px;
}
.example-card{
  background: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 6px 16px rgba(7,98,164,.12);
}
.example-card img{
  width: 100%; height: 160px; object-fit: cover;
}
.example-card p{
  padding: 12px 14px; margin: 0; color: #334155;
}

/* ===== Bloque con actividad ===== */
.activity-section{
  background: #f2f8ff;               
  padding: 24px 0 40px;
  border-top: 1px solid rgba(0,0,0,.04);
}
.activity-section__title{
  margin: 0 0 16px;
  font-size: clamp(1.4rem, 2vw, 1.7rem);
  color: var(--azul-oscuro);
  font-weight: 800;
}

/* Tarjeta de ejercicio */
.activity-block{
  margin: 10px 0 12px;
  padding: 18px;
  background: var(--azul-claro);
  border-radius: 14px;
  box-shadow: 0 6px 14px rgba(7,98,164,.12);
}
.activity-block__title{
  margin: 0 0 8px;
  font-size: 1.1rem;
  color: #0b2540;
}

/* Solución */
.solution-box[hidden]{
  display: none !important;
}

/* Caja de solución  */
.solution-box{
  margin-top: 14px;
  padding: 16px;
  background: #fff;
  border: 2px solid var(--azul-oscuro);
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(7,98,164,.12);
  color: #0b2540;
}
.solution-box code{
  background: #f1f5f9;
  padding: 2px 6px;
  border-radius: 6px;
  font-size: .95rem;
}

.solution-box{
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: max-height .28s ease, opacity .28s ease, padding .28s ease, border-width .28s ease;
  padding: 0 16px;
  border-width: 0;
}
.solution-box.is-open{
  max-height: 500px;
  opacity: 1;
  padding: 16px;
  border-width: 2px;
}

/* ===== Bloque de narración ===== */
.narration-block{
  margin: 40px auto;
  padding: 24px 28px;
  background: linear-gradient(90deg, var(--azul-oscuro), var(--azul-claro));
  color: #fff;
  font-style: italic;
  border-radius: 14px;
  box-shadow: 0 6px 14px rgba(0,0,0,.2);
  max-width: 800px;
  line-height: 1.7;
}
.narration-block strong{
  color: #ffe082;
}

/* ===== Bloque de información ===== */
.info-block{
  margin: 40px auto;
  padding: 28px 32px;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 6px 14px rgba(7,98,164,.12);
  max-width: 850px;
  line-height: 1.7;
  color: #0b2540;
}
.info-title{
  margin-top: 0;
  margin-bottom: 14px;
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--azul-oscuro);
}

/* ===== Título de sección ===== */
.section-title{
  max-width: var(--ancho-max);
  margin: 40px auto 20px;  
  padding: 0 16px;         
  font-size: 2.5rem;
  font-weight: 800;
  color: var(--azul-oscuro);
}

/* ===== Encabezados de sección (h2, h3) ===== */
h2.section-title, h3.section-title {
  max-width: var(--ancho-max);  
  margin: 48px auto 24px;        
  padding: 0 16px;               
  font-weight: 800;
  color: var(--azul-oscuro);
  line-height: 0.2;
}

/* Tamaños según nivel */
h2.section-title {
  font-size: clamp(1.6rem, 2.5vw, 2rem);
}
h3.section-title {
  font-size: clamp(1.3rem, 2vw, 1.6rem);
}

/* ===== Layout en dos columnas ===== */
.two-cols{
  display: grid;
  grid-template-columns: 1fr 1fr; 
  gap: 32px;
  align-items: start;
  max-width: var(--ancho-max);
  margin: 40px auto;
  padding: 0 16px;
}

/* Columna de texto */
.two-cols__text{
  display: flex;
  flex-direction: column;
  gap: 20px; 
}

/* Columna de imagen */
.two-cols__image img{
  width: 100%;
  height: auto;
  border-radius: 14px;
  box-shadow: 0 8px 18px rgba(7,98,164,.15);
  object-fit: cover;
}

/* Ajuste solo dentro de dos columnas */
.two-cols__text{
  display: flex;
  flex-direction: column;
  gap: 16px;  
}

.two-cols .narration-block,
.two-cols .concept-block{
  margin: 10px;   
}

/* ===== Contenedor de párrafo ===== */
.plain-text{
  max-width: var(--ancho-max);
  margin: 16px auto 0;
  padding: 0 16px;          
}
.para{
  margin: 0 0 18px;        
  line-height: 1.7;
  color: #334155;
  font-size: 1rem;
  text-align: justify
}
/* Variantes opcionales */
.para--muted{ color:#4b5b6b; }
.para--center{ text-align:center; }
.para--small{ font-size:.95rem; }

/* ===== Contenedor de figura ===== */
.figure{
  display: block;
  text-align: center;
  margin: 40px auto;
  max-width: 800px; 
}

.figure img{
  width: 100%;
  max-width: 350px; 
  height: auto;
  border-radius: 14px;
  box-shadow: 0 6px 14px rgba(0,0,0,.12);
  margin: 0 auto;
  display: block;
}

.caption{
  margin: 10px 4px 0;       
  font-size: .98rem;
  line-height: 1.6;
  color: #4a6075;           

}

/* ===== Bloque: Mensaje en una botella ===== */

/* ===== Bloque: Mensaje en una botella (full width) ===== */
/* Requiere que ya tengas --ancho-max definida en :root */

.bottle-note{
  position: relative;
  /* En lugar de 100%, limitamos al ancho máximo */
  max-width: var(--ancho-max);
  margin: 28px auto; /* centra el bloque y agrega espacio arriba/abajo */
  background: linear-gradient(180deg, #fdf4d4 0%, #f8e4b8 100%);
  box-shadow:
    inset 0 10px 24px rgba(0,0,0,.09),
    inset 0 -10px 24px rgba(0,0,0,.07);
  border-radius: 14px; /* opcional, para suavizar bordes */
  animation: bottle-bob 6s ease-in-out infinite;
  overflow: hidden;
}

.bottle-note__inner{
  max-width: 800px; /* puedes ajustar el contenido interno */
  margin: 0 auto;
  padding: 28px 16px 36px;
  text-align: center;
  color: #5a4633;
}


/* Icono pequeño (placeholder) */
.bottle-note__icon{
  width: 44px; height: 44px;
  margin: 0 auto 8px;
  opacity: .9;
}
.bottle-note__icon img{
  width: 100%; height: 100%;
  object-fit: contain; display: block;
}

/* Título en cursiva, misma tipografía del sitio */
.bottle-note__title{
  margin: 0 0 8px;
  font-weight: 800;
  font-size: clamp(1.4rem, 2.6vw, 1.9rem);
  color: #4b3829;
}
.bottle-note__title em{ font-style: italic; }

/* Descripción breve */
.bottle-note__desc{
  margin: 0 auto 16px;
  max-width: 70ch;
  line-height: 1.65;
}

/* Botón estilo pergamino en marrón */
.btn-bottle{
  display: inline-block;
  padding: 12px 22px;
  border-radius: 999px;
  text-decoration: none;
  font-weight: 700;
  color: #fff;
  background: linear-gradient(180deg, #8b5e3c 0%, #6f4a2f 100%);
  box-shadow:
    0 6px 16px rgba(0,0,0,.18),
    inset 0 1px 0 rgba(255,255,255,.18);
  transition: transform .15s ease, filter .2s ease;
}
.btn-bottle:hover{
  filter: brightness(1.04);
  transform: translateY(-1px);
}

/* ===== Borde “papel rasgado” con CSS puro (fallback seguro) ===== */
.bottle-note::before,
.bottle-note::after{
  content:"";
  position:absolute; left:0; right:0; height:22px; z-index:2;
  background: linear-gradient(180deg, #fdf4d4 0%, #f8e4b8 100%);
  pointer-events: none;
}

/* Parte superior: patrón inclinado */
.bottle-note::before{
  top:0;
  background:
    linear-gradient(180deg, #fdf4d4 0%, #f8e4b8 100%),
    repeating-linear-gradient(-45deg, rgba(0,0,0,.08) 0 2px, transparent 2px 6px);
  mix-blend-mode: multiply;
  opacity:.25;
}

/* Parte inferior: patrón inverso */
.bottle-note::after{
  bottom:0;
  background:
    linear-gradient(180deg, #fdf4d4 0%, #f8e4b8 100%),
    repeating-linear-gradient(45deg, rgba(0,0,0,.08) 0 2px, transparent 2px 6px);
  mix-blend-mode: multiply;
  opacity:.25;
}

/* ===== Animación de “flotar” ===== */
@keyframes bottle-bob{
  0%, 100% { transform: translateY(0px); }
  50%      { transform: translateY(3px); }
}

/* ===== Ajustes opcionales ===== */
.bottle-note__inner{ padding: 22px 16px 28px; }



/* -------------------------------------------------------------------------------------------------------------
  Séptima sección : Bitácora
--------------------------------------------------------------------------------------------------------------*/

/* ===== Fondo del cofre ===== */
.chest-canvas{
  position: relative;
  height: 560px;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(7,98,164,.12);
  background: url("Recursos/Bitacora/Fondo_cofre.png") center / cover no-repeat;
  outline: 1px solid rgba(0,0,0,.05);
}

/* ===== Items en el cofre ===== */
.chest-item{
  position: absolute;
  width: 140px;           
  aspect-ratio: 1 / 1;     
  display: block;
  text-decoration: none;
}

.chest-item img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 8px 14px rgba(2, 27, 44, 0.22));
  transition: transform .15s ease, filter .2s ease;
}

/* Hover suave (desktop) */
.chest-item:hover img{
  transform: scale(1.04);
  filter: drop-shadow(0 10px 18px rgba(7,98,164,.28));
}

/* Tooltip de islas */
.chest-item{
  z-index: 1; 
}
.chest-item:hover{
  z-index: 2; 
}

.chest-item-tip{
  position: absolute;
  left: 50%;
  bottom: calc(100% + 12px);      
  transform: translate(-50%, 6px);

  /* Tamaño compacto (alineado con el ancho típico de la isla) */
  width: 180px;                   
  max-width: none;                
  box-sizing: border-box;
  padding: 10px 12px;

  /* Texto legible y centrado */
  text-align: center;
  font: 500 .85rem/1.4 "Poppins", system-ui, sans-serif; 
  white-space: normal;             
  word-break: normal;              
  overflow-wrap: break-word;       

  /* Estilo visual */
  background: #fff;
  color: #0b2540;
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 12px;
  box-shadow: 0 10px 20px rgba(7,98,164,.15);

  /* Aparición suave en hover */
  opacity: 0;
  pointer-events: none;            
  transition: opacity .18s ease, transform .18s ease;
}

/* Título breve dentro del tooltip */
.chest-item-tip > strong{
  display:block;
  font-weight: 700;
  margin-bottom: 4px;
  color: #0b2540;
}

/* Flecha hacia abajo (globo de diálogo) */
.chest-item-tip::after{
  content:"";
  position: absolute;
  left: 50%;
  top: 100%;
  transform: translateX(-50%);
  width: 0; height: 0;
  border: 8px solid transparent;   
  border-top-color: #fff;          
  filter: drop-shadow(0 -1px 1px rgba(7,98,164,.10)); 
}

/* Mostrar con efecto suave en hover */
.chest-item:hover .chest-item-tip{
  opacity: 1;
  transform: translate(-50%, 0);   
}

/* ===== Tamaño de los elementos del cofre==== */
.item-1 {
  width: 300px;
  aspect-ratio: 1 / 1; /* mantiene cuadrado */
}

.item-2 {
  width: 280px;
  aspect-ratio: 1 / 1;
}

.item-3 {
  width: 140px;
  aspect-ratio: 1 / 1;
}

.item-4 {
  width: 250px;
  aspect-ratio: 1 / 1;
}

.item-5 {
  width: 250px;
  aspect-ratio: 1 / 1;
}

/* ===== Posiciones de los item del cofre===== */
.item-1{ top: 15%;  left: 6%; }    
.item-2{ top: 40%; left: 30%; }   
.item-3{ top: 20%; left: 35%; }
.item-4{ top: 20%; left: 48%; }
.item-5{ top: 35%; left: 60%; }
.item-6{ top: 60%; left: 80%; }

/* Tooltip invertido solo para la Isla 1 (por estar muy cerca del borde superior) */
.item-1 .chest-item-tip{
  top: calc(100% + 12px);   
  bottom: auto;             
}
.item-1 .chest-item-tip::after{
  top: auto;
  bottom: 100%;             
  border: 8px solid transparent;
  border-bottom-color: #fff;
  transform: translateX(-50%);
}

/* Tooltip invertido solo para la Isla 1 (por estar muy cerca del borde superior) */
.item-4 .chest-item-tip{
  top: calc(100% + 12px);   
  bottom: auto;             
}
.item-4 .chest-item-tip::after{
  top: auto;
  bottom: 100%;             
  border: 8px solid transparent;
  border-bottom-color: #fff;
  transform: translateX(-50%);
}

/* Tooltip invertido solo para la Isla 2 (por estar muy cerca del borde superior) */
.item-3 .chest-item-tip{
  top: calc(100% + 12px);   
  bottom: auto;             
}
.item-3 .chest-item-tip::after{
  top: auto;
  bottom: 100%;             
  border: 8px solid transparent;
  border-bottom-color: #fff;
  transform: translateX(-50%);
}

/* -------------------------------------------------------------------------------------------------------------
  Octvava sección : Bloque de tesoro
--------------------------------------------------------------------------------------------------------------*/
.treasure-cta{
  max-width: var(--ancho-max);
  margin: 32px auto 48px;
  padding: 0 16px;
}

.treasure-cta__inner{
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  padding: 28px 18px 34px;
  text-align: center;
  background:
    radial-gradient(120% 140% at 50% -20%, rgba(0,0,0,.08), transparent 50%),
    linear-gradient(180deg, #fff7d1 0%, #ffe6a1 100%); /* dorado suave */
  box-shadow: 0 10px 26px rgba(7,98,164,.10), inset 0 1px 0 rgba(255,255,255,.45);
  border: 1px solid rgba(0,0,0,.05);
}

/* Brillos laterales sutiles */
.treasure-cta__inner::before,
.treasure-cta__inner::after{
  content:"";
  position:absolute; top:-20%; bottom:-20%;
  width: 120px; filter: blur(28px); opacity:.25; pointer-events:none;
  background: radial-gradient(circle, #fff3b0 30%, transparent 70%);
}
.treasure-cta__inner::before{ left:-40px; }
.treasure-cta__inner::after{ right:-40px; }

/* Icono/cofre */
.treasure-cta__icon{
  width: 64px; height: 64px;
  margin: 0 auto 8px;
  animation: chest-bob 5s ease-in-out infinite;
}
.treasure-cta__icon img{
  width: 100%; height: 100%; object-fit: contain; display: block;
}

/* Titular y descripción */
.treasure-cta__title{
  margin: 0 0 6px;
  font-weight: 800;
  color: #6b4a12; /* marrón dorado */
  font-size: clamp(1.4rem, 2.4vw, 1.9rem);
}
.treasure-cta__desc{
  margin: 0 auto 14px;
  max-width: 68ch;
  color: #5a4633;
  line-height: 1.65;
}

/* Progreso opcional */
.treasure-cta__progress{
  margin: 6px auto 16px; max-width: 520px;
}
.treasure-cta .bar{
  height: 10px; border-radius: 999px; overflow: hidden;
  background: rgba(0,0,0,.08);
  box-shadow: inset 0 1px 2px rgba(0,0,0,.08);
}
.treasure-cta .bar > span{
  display:block; height:100%; width:0;
  background: linear-gradient(90deg, var(--azul-oscuro), var(--azul-claro));
  border-radius: 999px;
  box-shadow: 0 0 8px rgba(7,98,164,.3) inset;
  transition: width .6s ease;
}
.treasure-cta__progress .label{
  margin-top: 8px; font-weight: 600; color:#29425a;
}

/* Botón principal */
.btn-treasure{
  display: inline-block;
  margin-top: 6px;
  padding: 12px 22px;
  border-radius: 999px;
  text-decoration: none;
  font-weight: 800;
  color: #fff;
  background: linear-gradient(180deg, #b16b1f 0%, #8a5217 100%);
  box-shadow:
    0 10px 20px rgba(0,0,0,.18),
    inset 0 1px 0 rgba(255,255,255,.20);
  transition: transform .15s ease, filter .2s ease;
}
.btn-treasure:hover{ transform: translateY(-1px); filter: brightness(1.05); }

/* Micro-animación del cofre */
@keyframes chest-bob{
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(3px); }
}


/* -------------------------------------------------------------------------------------------------------------
  Novena sección : Bloque de audio
--------------------------------------------------------------------------------------------------------------*/
.audio-block{
  max-width: var(--ancho-max);
  margin: 22px auto;        
  padding: 0 16px;          
}

.audio-inner{
  display: flex;
  align-items: center;
  gap: 14px;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 6px 14px rgba(7,98,164,.12);
  padding: 14px 16px;
}

/* Etiqueta "Voces del Mar" */
.audio-label{
  font-weight: 700;
  color: var(--azul-oscuro);
  white-space: nowrap;
}

/* Player nativo ajustado al ancho disponible */
.audio-player{
  display: block;
  width: 100%;
  height: 36px;            /
}


